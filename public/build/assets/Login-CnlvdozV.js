import{r as d,c,y as l,q as u,j as r,Q as V,d as p,e,D as x,s as f,v,t as _}from"./vue-Bki0M6Jk.js";import{_ as C}from"./edo-CW448nKc.js";import{u as M}from"./app-Df4oPpsR.js";import{x as P}from"./primevue-BWgMG8pc.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"auth-container"},L={class:"field"},N={key:0,class:"p-error"},j={class:"field"},E={key:0,class:"p-error"},I={__name:"Login",setup(T){const g=V(),k=M(),m=P(),o=d({credential:"",password:""}),s=d({}),n=d(!1),w=async()=>{s.value={},n.value=!0;try{await k.login(o.value),m.add({severity:"success",summary:"Success",detail:"Login successful",life:3e3}),g.push("/")}catch(t){t.response?.data?.errors?s.value=t.response.data.errors:m.add({severity:"error",summary:"Error",detail:t.response?.data?.message||"Login failed",life:3e3})}finally{n.value=!1}};return(t,a)=>{const y=r("InputText"),h=r("Password"),b=r("Button"),S=r("Card");return p(),c("div",B,[l(S,{class:"auth-card"},{header:u(()=>[...a[2]||(a[2]=[e("div",{class:"card-header"},[e("i",{class:"pi pi-check-circle",style:{"font-size":"3rem",color:"#fff"}}),e("h2",null,"SNESA Apps"),e("p",null,"Aplikasi Management Presensi Sholat")],-1)])]),content:u(()=>[e("form",{onSubmit:x(w,["prevent"]),class:"auth-form"},[e("div",L,[a[3]||(a[3]=e("label",{for:"credential"},"Email atau Nomor HP",-1)),l(y,{id:"credential",modelValue:o.value.credential,"onUpdate:modelValue":a[0]||(a[0]=i=>o.value.credential=i),placeholder:"Masukkan email atau nomor HP",class:v({"p-invalid":s.value.credential})},null,8,["modelValue","class"]),s.value.credential?(p(),c("small",N,_(s.value.credential),1)):f("",!0)]),e("div",j,[a[4]||(a[4]=e("label",{for:"password"},"Kata Sandi",-1)),l(h,{id:"password",modelValue:o.value.password,"onUpdate:modelValue":a[1]||(a[1]=i=>o.value.password=i),placeholder:"Masukkan kata sandi Anda",feedback:!1,toggleMask:"",class:v({"p-invalid":s.value.password})},null,8,["modelValue","class"]),s.value.password?(p(),c("small",E,_(s.value.password),1)):f("",!0)]),l(b,{type:"submit",label:"Masuk",loading:n.value,class:"w-full"},null,8,["loading"])],32)]),footer:u(()=>[...a[5]||(a[5]=[e("div",{class:"card-footer"},[e("p",{class:"flex gap-2 justify-center cursor-pointer",onclick:"location.href='https:\\/\\/pelajartrenggalek.or.id'"},[e("span",null,"Powered by "),e("img",{src:C,alt:"",class:"h-3 w-3 object-contain"})])],-1)])]),_:1})])}}},K=A(I,[["__scopeId","data-v-b8a5af3c"]]);export{K as default};
