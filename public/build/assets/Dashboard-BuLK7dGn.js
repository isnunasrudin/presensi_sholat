import{u as V,r as v,m as A,c as g,f as t,h as B,b as n,w as o,d,p as y,o as b,t as l,j as L,n as f,i as S}from"./app-CnZCGkoq.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"dashboard"},x={class:"welcome-card"},z={class:"stats-grid"},E={class:"stat-content"},I={class:"stat-info"},R={class:"stat-content"},H={class:"stat-info"},U={class:"stat-content"},j={class:"stat-info"},q={class:"stat-content"},M={class:"stat-info"},F={class:"quick-actions"},G={class:"action-buttons"},J={key:0,class:"recent-records"},K={class:"dataview-item"},O={class:"item-row"},Q={class:"item-value"},W={class:"item-row"},X={class:"item-value"},Y={class:"item-row"},Z={__name:"Dashboard",setup(P){const k=V(),r=v({total:0,sholat:0,tidak_sholat:0,halangan:0,percentage_sholat:0}),c=v([]),C=async()=>{try{const s=await y.get("/prayer-records/statistics/summary");r.value=s.data}catch(s){console.error("Error fetching statistics:",s)}},w=async()=>{try{const s=await y.get("/prayer-records",{params:{per_page:5}});c.value=s.data.data||[]}catch(s){console.error("Error fetching recent records:",s)}},p=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),h=s=>({sholat:"Sholat",tidak_sholat:"Tidak Sholat",halangan:"Halangan"})[s]||s,_=s=>({sholat:"status-badge success",tidak_sholat:"status-badge danger",halangan:"status-badge warning"})[s]||"status-badge";return A(()=>{C(),w()}),(s,a)=>{const i=d("Card"),m=d("Button"),D=d("DataView"),u=d("Column"),T=d("DataTable");return b(),g("div",$,[a[16]||(a[16]=t("h1",{class:"page-title"},"Dasbor",-1)),t("div",x,[n(i,null,{content:o(()=>[t("h2",null,"Selamat Datang, "+l(L(k).user?.name)+"! ğŸ‘‹",1),a[2]||(a[2]=t("p",null,"Lacak kehadiran sholat Dhuhur dan Dhuha harian Anda",-1))]),_:1})]),t("div",z,[n(i,{class:"stat-card"},{content:o(()=>[t("div",E,[a[4]||(a[4]=t("i",{class:"pi pi-check-circle stat-icon success"},null,-1)),t("div",I,[t("h3",null,l(r.value.sholat),1),a[3]||(a[3]=t("p",null,"Sholat Selesai",-1))])])]),_:1}),n(i,{class:"stat-card"},{content:o(()=>[t("div",R,[a[6]||(a[6]=t("i",{class:"pi pi-times-circle stat-icon danger"},null,-1)),t("div",H,[t("h3",null,l(r.value.tidak_sholat),1),a[5]||(a[5]=t("p",null,"Sholat Terlewat",-1))])])]),_:1}),n(i,{class:"stat-card"},{content:o(()=>[t("div",U,[a[8]||(a[8]=t("i",{class:"pi pi-info-circle stat-icon warning"},null,-1)),t("div",j,[t("h3",null,l(r.value.halangan),1),a[7]||(a[7]=t("p",null,"Dibatalkan",-1))])])]),_:1}),n(i,{class:"stat-card"},{content:o(()=>[t("div",q,[a[10]||(a[10]=t("i",{class:"pi pi-chart-line stat-icon info"},null,-1)),t("div",M,[t("h3",null,l(r.value.percentage_sholat)+"%",1),a[9]||(a[9]=t("p",null,"Tingkat Penyelesaian",-1))])])]),_:1})]),t("div",F,[n(i,null,{header:o(()=>[...a[11]||(a[11]=[t("h3",{class:"card-title"},"Aksi Cepat",-1)])]),content:o(()=>[t("div",G,[n(m,{label:"Catat Sholat Hari Ini",icon:"pi pi-plus",onClick:a[0]||(a[0]=e=>s.$router.push("/prayer-records")),size:"large"}),n(m,{label:"Lihat Semua Catatan",icon:"pi pi-list",onClick:a[1]||(a[1]=e=>s.$router.push("/prayer-records")),severity:"secondary",size:"large"})])]),_:1})]),c.value.length>0?(b(),g("div",J,[n(i,null,{header:o(()=>[...a[12]||(a[12]=[t("h3",{class:"card-title"},"Catatan Sholat Terbaru",-1)])]),content:o(()=>[n(D,{value:c.value,class:"mobile-dataview"},{list:o(e=>[t("div",K,[t("div",O,[a[13]||(a[13]=t("span",{class:"item-label"},"Tanggal:",-1)),t("span",Q,l(p(e.data.date)),1)]),t("div",W,[a[14]||(a[14]=t("span",{class:"item-label"},"Sholat:",-1)),t("span",X,l(e.data.prayer_type.charAt(0).toUpperCase()+e.data.prayer_type.slice(1)),1)]),t("div",Y,[a[15]||(a[15]=t("span",{class:"item-label"},"Status:",-1)),t("span",{class:f(_(e.data.status))},l(h(e.data.status)),3)])])]),_:1},8,["value"]),n(T,{value:c.value,responsiveLayout:"scroll",class:"desktop-table"},{default:o(()=>[n(u,{field:"date",header:"Tanggal"},{body:o(e=>[S(l(p(e.data.date)),1)]),_:1}),n(u,{field:"prayer_type",header:"Sholat"},{body:o(e=>[S(l(e.data.prayer_type.charAt(0).toUpperCase()+e.data.prayer_type.slice(1)),1)]),_:1}),n(u,{field:"status",header:"Status"},{body:o(e=>[t("span",{class:f(_(e.data.status))},l(h(e.data.status)),3)]),_:1})]),_:1},8,["value"])]),_:1})])):B("",!0)])}}},st=N(Z,[["__scopeId","data-v-19276c45"]]);export{st as default};
