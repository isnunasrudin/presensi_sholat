import{u as V,a as x,r as i,c,b as t,w as u,d as r,e as C,o as p,f as e,g as M,h as f,n as v,t as _}from"./app-CnZCGkoq.js";import{_ as P}from"./edo-CW448nKc.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"auth-container"},L={class:"field"},N={key:0,class:"p-error"},E={class:"field"},j={key:0,class:"p-error"},I={__name:"Login",setup(T){const g=C(),w=V(),m=x(),o=i({credential:"",password:""}),s=i({}),n=i(!1),k=async()=>{s.value={},n.value=!0;try{await w.login(o.value),m.add({severity:"success",summary:"Success",detail:"Login successful",life:3e3}),g.push("/")}catch(l){l.response?.data?.errors?s.value=l.response.data.errors:m.add({severity:"error",summary:"Error",detail:l.response?.data?.message||"Login failed",life:3e3})}finally{n.value=!1}};return(l,a)=>{const h=r("InputText"),y=r("Password"),b=r("Button"),S=r("Card");return p(),c("div",B,[t(S,{class:"auth-card"},{header:u(()=>[...a[2]||(a[2]=[e("div",{class:"card-header"},[e("i",{class:"pi pi-check-circle",style:{"font-size":"3rem",color:"#fff"}}),e("h2",null,"SNESA Apps"),e("p",null,"Aplikasi Management Presensi Sholat")],-1)])]),content:u(()=>[e("form",{onSubmit:M(k,["prevent"]),class:"auth-form"},[e("div",L,[a[3]||(a[3]=e("label",{for:"credential"},"Email atau Nomor HP",-1)),t(h,{id:"credential",modelValue:o.value.credential,"onUpdate:modelValue":a[0]||(a[0]=d=>o.value.credential=d),placeholder:"Masukkan email atau nomor HP",class:v({"p-invalid":s.value.credential})},null,8,["modelValue","class"]),s.value.credential?(p(),c("small",N,_(s.value.credential),1)):f("",!0)]),e("div",E,[a[4]||(a[4]=e("label",{for:"password"},"Kata Sandi",-1)),t(y,{id:"password",modelValue:o.value.password,"onUpdate:modelValue":a[1]||(a[1]=d=>o.value.password=d),placeholder:"Masukkan kata sandi Anda",feedback:!1,toggleMask:"",class:v({"p-invalid":s.value.password})},null,8,["modelValue","class"]),s.value.password?(p(),c("small",j,_(s.value.password),1)):f("",!0)]),t(b,{type:"submit",label:"Masuk",loading:n.value,class:"w-full"},null,8,["loading"])],32)]),footer:u(()=>[...a[5]||(a[5]=[e("div",{class:"card-footer"},[e("p",{class:"flex gap-2 justify-center cursor-pointer",onclick:"location.href='https:\\/\\/pelajartrenggalek.or.id'"},[e("span",null,"Powered by "),e("img",{src:P,alt:"",class:"h-3 w-3 object-contain"})])],-1)])]),_:1})])}}},D=A(I,[["__scopeId","data-v-b8a5af3c"]]);export{D as default};
